.\" -*- mode: troff; coding: UTF-8 -*-
.\" This man page was written by Jeremy Phelps <jphelps@notreached.net>.
.\" Notes added - aeb
.\"
.\" %%%LICENSE_START(FREELY_REDISTRIBUTABLE)
.\" Redistribute and revise at will.
.\" %%%LICENSE_END
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH PTS 4 2016\-03\-15 Linux "Руководство программиста Linux"
.SH ИМЯ
ptmx, pts \- основной и подчинённый псевдо\-терминал
.SH ОПИСАНИЕ
Файл \fI/dev/ptmx\fP является символьным файлом со старшим номером 5 и младшим
номером 2, обычно имеет права доступа 0666 и принадлежит
root:root. Используется для создания пары основного и подчинённого
псевдо\-терминала.
.PP
Когда процесс открывает \fI/dev/ptmx\fP, то он получает дескриптор файла
основного псевдо\-терминала (PTM, pseudoterminal master), а в каталоге
\fI/dev/pts\fP создаётся устройство подчинённого псевдо\-терминала (PTS,
pseudoterminal slave). Каждый дескриптор файла, полученный открытием
\fI/dev/ptmx\fP, является независимым PTM со своим отдельным, связанным с ним
PTS, чей путь можно определить, передав файловый дескриптор \fBptsname\fP(3).
.PP
Перед открытием подчинённого псевдо\-терминала вы должны передать дескриптор
файла основного терминала в \fBgrantpt\fP(3) и \fBunlockpt\fP(3).
.PP
Когда основной и подчинённый псевдо\-терминалы будут открыты, подчинённый
предоставляет процессам интерфейс, идентичный обычному терминалу.
.PP
Данные, записываемые на подчинённый терминал, появляются у файлового
дескриптора основного терминала как входные данные. Данные, записываемые на
основной терминал, появляются на подчинённом терминале в виде входных
данных.
.PP
На практике, псевдо\-терминалы используются для реализации эмуляторов
терминала, таких как \fBxterm\fP(1), где данные, считываемые с основного
псевдо\-терминала, интерпретируются приложениями в том же виде, как и данные
с обычного терминала, а также в программах, реализующих удалённый доступ,
таких как \fBsshd\fP(8), где данные, считываемые с основного псевдо\-терминала,
отправляются по сети в программу\-клиент, подключённую к терминалу или
эмулятору терминала.
.PP
Псевдо\-терминалы также могут использоваться для отправки вводимых данных в
программы, не желающих принимать обычный ввод из канала (например \fBsu\fP(1) и
\fBpasswd\fP(1)).
.SH ФАЙЛЫ
\fI/dev/ptmx\fP, \fI/dev/pts/*\fP
.SH ЗАМЕЧАНИЯ
Поддержка в Linux для всего вышеперечисленного (т.н. именование
псевдо\-терминалов UNIX 98) осуществляется через файловую систему \fIdevpts\fP,
которая монтируется к \fI/dev/pts\fP.
.PP
До схемы UNIX 98, основные псевдо\-терминалы назывались \fI/dev/ptyp0\fP, ..., а
подчинённые псевдо\-терминалы \(em \fI/dev/ttyp0\fP, …, и для них требовалось
очень много предварительно размещённых нод устройств.
.SH "СМОТРИТЕ ТАКЖЕ"
\fBgetpt\fP(3), \fBgrantpt\fP(3), \fBptsname\fP(3), \fBunlockpt\fP(3), \fBpty\fP(7)
