.\" -*- mode: troff; coding: UTF-8 -*-
.\" (C) Copyright 1992-1999 Rickard E. Faith and David A. Wheeler
.\" (faith@cs.unc.edu and dwheeler@ida.org)
.\"
.\" %%%LICENSE_START(VERBATIM)
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one.
.\"
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\"
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\" %%%LICENSE_END
.\"
.\" Modified Sun Jul 25 11:06:05 1993 by Rik Faith (faith@cs.unc.edu)
.\" Modified Sat Jun  8 00:39:52 1996 by aeb
.\" Modified Wed Jun 16 23:00:00 1999 by David A. Wheeler (dwheeler@ida.org)
.\" Modified Thu Jul 15 12:43:28 1999 by aeb
.\" Modified Sun Jan  6 18:26:25 2002 by Martin Schulze <joey@infodrom.org>
.\" Modified Tue Jul 27 20:12:02 2004 by Colin Watson <cjwatson@debian.org>
.\" 2007-05-30, mtk: various rewrites and moved much text to new man-pages.7.
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH MAN 7 2019\-03\-06 Linux "Руководство программиста Linux"
.SH ИМЯ
man \- макросы для форматирования справочных страниц
.SH ОБЗОР
\fBgroff \-Tascii \-man\fP \fIфайл\fP \&...
.PP
\fBgroff \-Tps \-man\fP \fIфайл\fP \&...
.PP
\fBman\fP [\fIраздел\fP] \fIимя\fP
.SH ОПИСАНИЕ
В этой справочной странице описывается макет макросов \fBgroff an.tmac\fP
(часто называемый макетом макросов \fBman\fP). Данный пакет макросов должен
использоваться разработчиками для написания или переноса справочных страниц
в Linux. Он относительно совместим с другими версиями этого пакета макросов,
так что перенос справочных страниц не должен быть большой проблемой (кроме
выпуска NET\-2 BSD, в котором используется полностью другой пакет макросов
mdoc; смотрите \fBmdoc\fP(7)).
.PP
Заметим, что справочные страницы NET\-2 BSD mdoc можно использовать с
\fBgroff\fP просто указав параметра \fB\-mdoc\fP вместо \fB\-man\fP. Однако
рекомендуется использовать параметр \fB\-mandoc\fP, так как это включает
автоматическое определение какой пакет макросов использовать.
.PP
Соглашения, которые нужно соблюдать при написании справочных страниц для
пакета Linux \fIman\-pages\fP смотрите в \fBman\-pages\fP(7).
.SS Заголовок
Первой командой в справочной странице (после комментариев, то есть строк,
которые начинаются с \fB.\e"\fP) должна быть
.PP
.RS
\fB\&.TH\fP \fIзаголовок раздел дата источник справочник\fP
.RE
.PP
Описание аргументов команды \fBTH\fP смотрите в \fBman\-pages\fP(7).
.PP
Заметим, что страницы, отформатированные под BSD mdoc, начинаются с команды
\fBDd\fP, а не \fBTH\fP.
.SS Разделы
.\" The following doesn't seem to be required (see Debian bug 411303),
.\" If the name contains spaces and appears
.\" on the same line as
.\" .BR \&.SH ,
.\" then place the heading in double quotes.
Разделы начинаются с макроса \fB\&.SH\fP, за которым следует название
заголовка.
.PP
Единственным обязательным заголовком является ИМЯ, оно должно быть первым
разделом и снабжаться однострочным описанием программы на следующей строке:
.PP
.RS
\&.SH ИМЯ
.br
элемент \e\- описание
.RE
.PP
Чрезвычайно важно следовать этому формату, и ставить наклонную черту влево
перед одиночным минусом, который указывается после названия объекта. Этот
синтаксис используется программой \fBmandb\fP(8) при создании базы данных
кратких описаний для команд \fBwhatis\fP(1) и \fBapropos\fP(1) (описание
синтаксиса раздела ИМЯ смотрите в \fBlexgrog\fP(1)).
.PP
Список разделов, которые могут присутствовать в справочной странице,
смотрите в \fBman\-pages\fP(7).
.SS Шрифты
Команды для выбора начертания шрифта:
.TP  4
\fB\&.B\fP
Полужирный
.TP 
\fB\&.BI\fP
Полужирный курсив (часто применяется при описании функций)
.TP 
\fB\&.BR\fP
Полужирный прямой (часто применяется для ссылок на другие справочные
страницы)
.TP 
\fB\&.I\fP
Курсив
.TP 
\fB\&.IB\fP
Курсив, чередующийся с полужирным
.TP 
\fB\&.IR\fP
Курсив, чередующийся с прямым
.TP 
\fB\&.RB\fP
Прямой, чередующийся с полужирным
.TP 
\fB\&.RI\fP
Прямой, чередующийся с курсивом
.TP 
\fB\&.SB\fP
Капитель, чередующаяся с полужирным
.TP 
\fB\&.SM\fP
Капитель (полезна для аббревиатур)
.PP
Традиционно, у каждой команды может быть до шести аргументов, но в
реализации GNU удалено это ограничение (вы могли бы ограничить себя 6
аргументами с целью переносимости). Аргументы разделяются пробелами. Для
указания аргумента с пробелами можно использовать двойные кавычки. Все
аргументы будут выведены друг за другом без разделяющих пробелов, поэтому
для выделения слова жирным и последующим знаком пунктуации прямым можно
использовать команду \fB\&.BR\fP Если аргументы не заданы, то команда
применяется к следующей строке текста.
.SS "Другие макросы и строки"
.PP
Далее описываются другие  	сопутствующие макросы и предопределённые
строки. Если не указано обратного, все макросы выполняют разрыв (конец
текста в текущей строке). Многие из этих макросов изменяют или используют
«преобладающий отступ». Это значение изменяется любым макросом с параметром
\fIi\fP ниже; в макросы можно не указывать \fIi\fP и в этом случае будет
использован текущий преобладающий отступ. Это позволяет использовать единый
отступ для рядом стоящих параграфов без указания значения отступа. Обычный
(без отступа) параграф сбрасывает значение преобладающего отступа в значение
по умолчанию (0.5 дюйма). По умолчанию, задаваемый отступ измеряется в ens;
старайтесь использовать для отступов единицы измерения ens или ems, так как
при этом автоматически выбирается правильный размер шрифта. Другие основные
макросы:
.SS "Обычные параграфы"
.TP  9m
\fB\&.LP\fP
Тоже что и \fB\&.PP\fP (начало нового параграфа).
.TP 
\fB\&.P\fP
Тоже что и \fB\&.PP\fP (начало нового параграфа).
.TP 
\fB\&.PP\fP
Начинает новый параграф и сбрасывает преобладающий отступ.
.SS "Относительная граница отступа"
.TP  9m
\fB\&.RS\fP\fI i\fP
Начало относительной границы отступа: левая граница \fIi\fP перемещается вправо
(если \fIi\fP не задано, то используется преобладающий отступ). Новым значением
преобладающего отступа становится 0.5 дюйма. В результате все последующие
параграфы будут иметь отступ пока не появится соответствующий \fB\&.RE\fP.
.TP 
\fB\&.RE\fP
Завершает учёт относительной границы отступа и восстанавливает предыдущее
значение преобладающего отступа.
.SS "Макросы параграфа с отступом"
.TP  9m
\fB\&.HP\fP\fI i\fP
Начинает параграф с висящим отступом (первая строка параграфа имеет левую
границу как у обычных параграфов, а остальные строки параграфа имеют
отступ).
.TP 
\fB\&.IP\fP\fI x i\fP
Параграф с отступом и необязательным весящим тегом. Если тег \fIx\fP не указан,
то весь последующий параграф имеет отступ \fIi\fP. Если тег \fIx\fP задан, то он
висит у левой границы перед последующим параграфом с отступом (как при
\fB\&.TP\fP, то тег стоит рядом с командой, а не на следующей строке). Если тег
слишком длинный, то текст после тега будет помещён вниз на следующую строку
(текст не теряется или искажается). Для списков с маркером используйте этот
макрос с \e(bu (маркер) или \e(em (тире) в качестве тега, а для нумерованных
списков в качестве тега используйте цифру или букву с точкой; это упрощает
трансляцию в другие форматы.
.TP 
\fB\&.TP\fP\fI i\fP
Начинает параграф с висящим тегом. Тег задаётся на следующей строке, но
результат будет подобен команде \fB\&.IP\fP.
.SS "Макросы гиперссылок"
.TP 
\fB\&.UR\fP\fI url\fP
Вставляет гипертекстовую ссылку в URI (URL) \fIurl\fP в виде текста ссылки,
окружая её текстом до следующего макроса \fB\&.UE\fP.
.TP 
\fB\&.UE\fP
[\fItrailer\fP] Завершает текст ссылки из макроса \fB\&.UR\fP необязательным
\fItrailer\fP (если есть, то это, обычно закрывающая круглая скобка и/или знак
конца элемента), указываем тут же. Для устройств, не выводящих HTML
(например, \fBman \-Tutf8\fP), текст ссылки указывается после URL в угловых
скобках; если текста нет, то URL печатается как ссылка, окружённая в
квадратных скобках (угловые скобки могут отсутствовать на некоторых
устройствах). Для устройств выводящих HTML, текст ссылки ведёт на URL; если
текста нет, то печатается URL как ссылка.
.PP
Эти макросы поддерживаются в GNU Troff начиная с версии 1.20 (2009\-01\-05) и
в Heirloom Doctools Troff начиная с версии 160217 (2016\-02\-17).
.SS "Различные макросы"
.TP  9m
\fB\&.DT\fP
Сбрасывает значение табуляций в умолчательное (каждые 0.5 дюйма); не
приводит к разрыву.
.TP 
\fB\&.PD\fP\fI d\fP
Устанавливает вертикальное расстояние между параграфами равным d (если не
указано, то d=0.4v); не приводит к разрыву.
.TP 
\fB\&.SS\fP\fI t\fP
Подзаголовок \fIt\fP (как \fB\&.SH\fP, но используется для подраздела внутри
раздела).
.SS "Предопределенные строки"
В пакете \fBman\fP есть следующие предопределённые строки:
.IP \e*R
Символ регистрации прав: \*R
.IP \e*S
Изменяет размер шрифта по умолчанию
.IP \e*(Tm
Това́рный знак: \*(Tm
.IP \e*(lq
Двойная кавычка с наклоном влево: \*(lq
.IP \e*(rq
Двойная кавычка с наклоном вправо: "
.SS "Безопасный набор"
Хотя технически \fBman\fP и является пакетом макросов troff, большое количество
других инструментов обработки файлов справочных страниц не реализуют все
свойства troff. То есть, лучше не использовать некоторые экзотические
возможности troff, если нужно чтобы такие инструменты работали правильно. Не
используйте различные препроцессоры troff (если очень нужно, то, конечно,
используйте \fBtbl\fP(1), но старайтесь использовать команды \fBIP\fP и \fBTP\fP
вместо двухколоночных таблиц). Не применяйте вычисления; большинство
инструментов не обрабатывают их. Используйте простые команды, которые легко
транслировать в другие форматы. Следующие макросы troff можно использовать
без проблем (хотя во многих случаях они будут игнорироваться трансляторами):
\fB\e"\fP, \fB.\fP, \fBad\fP, \fBbp\fP, \fBbr\fP, \fBce\fP, \fBde\fP, \fBds\fP, \fBel\fP, \fBie\fP, \fBif\fP,
\fBfi\fP, \fBft\fP, \fBhy\fP, \fBig\fP, \fBin\fP, \fBna\fP, \fBne\fP, \fBnf\fP, \fBnh\fP, \fBps\fP, \fBso\fP,
\fBsp\fP, \fBti\fP, \fBtr\fP.
.PP
Также можно использовать много экранированных последовательностей troff
(начинающихся с \e). Если нужно включить обратную косую черту в текст
используйте \ee. Можно использовать другие последовательности (здесь x или
xx могут быть любыми символами и N любой цифрой): \fB\e\(aq\fP, \fB\e\(ga\fP,
\fB\e\-\fP, \fB\e.\fP, \fB\e"\fP, \fB\e%\fP, \fB\e*x\fP, \fB\e*(xx\fP, \fB\e(xx\fP, \fB\e$N\fP,
\fB\enx\fP, \fB\en(xx\fP, \fB\efx\fP и \fB\ef(xx\fP. Не используйте экранированные
последовательности для рисования графики.
.PP
Не используйте необязательный параметр \fBbp\fP (разрыв страницы). Используйте
только положительные значения для \fBsp\fP (вертикальный отступ). Не
определяйте макрос (\fBde\fP) с тем же именем как в этом пакете или пакете
макросов mdoc с другим смыслом; такое переопределение, вероятнее всего,
будет проигнорировано. Каждый положительный отступ (\fBin\fP) должен составлять
пару с отрицательным отступом (хотя для этого лучше использовать макросы
\fBRS\fP и \fBRE\fP). В проверке условия (\fBif,ie\fP) нужно использовать только
\(aqt\(aq или \(aqn\(aq в качестве условия. Должны использоваться только
трансляции (\fBtr\fP), которые можно игнорировать. Для изменения шрифта
(экранированные последовательности \fBft\fP и \fB\ef\fP) должны использоваться
только значения 1, 2, 3, 4, R, I, B, P или CW (также команда ft может
указываться без параметров).
.PP
Если кроме этих возможностей вы используете какие\-то другие, то внимательно
проверяйте результат на нескольких инструментах. После положительной
проверки дополнительной возможности, напишите об этом сопровождающему этого
документа о безопасной команде или последовательности, которая будет
вставлена в этот список.
.SH ФАЙЛЫ
\fI/usr/share/groff/\fP[*/]\fItmac/an.tmac\fP
.br
\fI/usr/man/whatis\fP
.SH ЗАМЕЧАНИЯ
.PP
Всегда включайте полные URL (или URI) в сам текст; некоторые инструменты,
например \fBman2html\fP(1), могут автоматически преобразовывать их в
гипертекстовые ссылки. Для обозначения ссылок также вы можете использовать
макросы \fBUR\fP и \fBUE\fP. При добавлении URL используйте полный URL (например,
.UR http://www.kernel.org
.UE )
, чтобы инструменты могли автоматически
найти URL.
.PP
Инструменты, обрабатывающие эти файлы, должны открыть файл и исследовать
первый непробельный символ. Считается, что точка (.) или одинарная кавычка
(\(aq) в начале строки указывает, что файл в формате troff (man или
mdoc). Левая угловая скобка (<) указывает, что файл в SGML/XML\-подобном
формате (HTML или Docbook). При нахождении любого другого символа считается,
что это простой текст ASCII (например, результат «catman»).
.PP
Много справочных страниц начинаются с \fB\(aq\e"\fP, после которого идёт пробел
и список символов, указывающих как страница должна быть предварительно
обработана. Для совместимости с не troff подобными трансляторами, мы
рекомендуем не использовать что\-либо кроме \fBtbl\fP(1), и Linux может
обнаружить это автоматически. Однако вы можете захотеть включить эту
информацию для того, чтобы ваша справочная страница могла быть обработана
другими (менее развитыми) системами. Вот определения препроцессоров,
вызываемых этими символами:
.TP  3
\fBe\fP
eqn(1)
.TP 
\fBg\fP
grap(1)
.TP 
\fBp\fP
pic(1)
.TP 
\fBr\fP
refer(1)
.TP 
\fBt\fP
tbl(1)
.TP 
\fBv\fP
vgrind(1)
.SH ДЕФЕКТЫ
.PP
Большинство макросов служат для форматирования (например, тип шрифта и
интервал), а не для маркировки семантического содержания (например, что
текст — ссылка на другую страницу), если сравнивать с форматами mdoc и
DocBook (даже в HTML больше семантической маркировки). Это усложняет
создание формата \fBman\fP для разных носителей, чтобы выдать непротиворечивый
результат для определённого носителя и автоматически вставить перекрестные
ссылки. Использование безопасного подмножества, описанного выше, должно
упростить автоматизацию перехода между разными форматами ссылок в будущем.
.PP
.\" .SH AUTHORS
.\" .IP \(em 3m
.\" James Clark (jjc@jclark.com) wrote the implementation of the macro package.
.\" .IP \(em
.\" Rickard E. Faith (faith@cs.unc.edu) wrote the initial version of
.\" this manual page.
.\" .IP \(em
.\" Jens Schweikhardt (schweikh@noc.fdn.de) wrote the Linux Man-Page Mini-HOWTO
.\" (which influenced this manual page).
.\" .IP \(em
.\" David A. Wheeler (dwheeler@ida.org) heavily modified this
.\" manual page, such as adding detailed information on sections and macros.
Макрос Sun \fBTX\fP не реализован.
.SH "СМОТРИТЕ ТАКЖЕ"
\fBapropos\fP(1), \fBgroff\fP(1), \fBlexgrog\fP(1), \fBman\fP(1), \fBman2html\fP(1),
\fBwhatis\fP(1), \fBgroff_man\fP(7), \fBgroff_www\fP(7), \fBman\-pages\fP(7), \fBmdoc\fP(7)
