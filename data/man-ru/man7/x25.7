.\" -*- mode: troff; coding: UTF-8 -*-
.\" This man page is Copyright (C) 1998 Heiner Eisen.
.\"
.\" %%%LICENSE_START(VERBATIM_ONE_PARA)
.\" Permission is granted to distribute possibly modified copies
.\" of this page provided the header is included verbatim,
.\" and in case of nontrivial modification author and date
.\" of the modification is added to the header.
.\" %%%LICENSE_END
.\"
.\" $Id: x25.7,v 1.4 1999/05/18 10:35:12 freitag Exp $
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH X25 7 2017\-09\-15 Linux "Руководство программиста Linux"
.SH ИМЯ
x25 \- интерфейс протокола ITU\-T X.25/ISO\-8208
.SH ОБЗОР
\fB#include <sys/socket.h>\fP
.br
\fB#include <linux/x25.h>\fP
.PP
\fBx25_socket = socket(AF_X25, SOCK_SEQPACKET, 0);\fP
.SH ОПИСАНИЕ
Сокеты X25 предоставляют интерфейс для пакетного слоя протокола X.25. Это
позволяет приложениям связываться через открытые сети передачи данных X.25 в
соответствии с рекомендациями Международного Телекоммуникационного Общества
(International Telecommunication Union) по X.25 (режим X.25 DTE\-DCE). Сокеты
X25 также можно использовать для связи без наличия промежуточной сети X.25
(режим X.25 DTE\-DTE) как описано в стандарте ISO\-8208.
.PP
При работе выполняется сохранение границ сообщения \(em вызов \fBread\fP(2)
вернёт кусок данных той же величины, что записала в сокет в помощью
\fBwrite\fP(2) сторона\-партнёр. Когда это необходимо, ядро следит за
сегментированием и перебирает (reassembling) длинные сообщения
руководствуясь появлением бита M в X.25. Не существует жёсткого ограничения
на максимальный размер сообщения. Однако, переборка длинного сообщения может
закончиться неудачно, если возникнет временная нехватка системных ресурсов
или когда включатся другие ограничения (например, на память сокета или
размер буфера). Если возникает такая ситуация, то соединение X.25
разрывается.
.SS "Адреса сокетов"
Для представления сетевого адреса в семействе адресов сокета \fBAF_X25\fP
используется структура \fIstruct sockaddr_x25\fP, которая описана в
рекомендации ITU\-T X.121.
.PP
.in +4n
.EX
struct sockaddr_x25 {
    sa_family_t sx25_family;    /* должно быть AF_X25 */
    x25_address sx25_addr;      /* адрес X.121 */
};
.EE
.in
.PP
В \fIsx25_addr\fP содержится массив символов \fIx25_addr[]\fP, который
интерпретируется как строка, завершающаяся null. Значение
\fIsx25_addr.x25_addr[]\fP содержит до 15\-ти (не считая завершающего байта
null) ASCII, из которых формируется адрес X.121. Разрешаются только
десятичные цифры от «0» до «9».
.SS "Параметры сокета"
Специальные параметры сокета X.25 могут быть установлены с помощью
\fBsetsockopt\fP(2) и прочитаны с помощью \fBgetsockopt\fP(2), если в аргументе
\fIlevel\fP указать значение \fBSOL_X25\fP:
.TP 
\fBX25_QBITINCL\fP
Управляет доступностью пользователю бита Q в X.25 (Qualified Data Bit — бит
пригодности данных). В качестве аргумента указывается целое число. Если
указан 0 (по умолчанию), то бит Q никогда не устанавливается в исходящих
пакетах, а во входящих бит Q игнорируется. Если указана 1, то каждое
прочитываемое или записываемое в сокет сообщение предваряется дополнительным
байтом. Для данных, которые читаются из сокета, нулевой первый байт говорит
означает, что биты Q в соответствующих входящих пакетах данных не
установлены. Если первый байт имеет значение 1, то это говорит о том, что в
соответствующих входящих пакетах данных установлены биты Q. Если первый байт
данных, записанный в сокет, имеет значение 1, то для соответствующих
исходящих пакетов данных будет установлен бит Q. Если первый байт имеет
значение 0, то бит Q установлен не будет.
.SH ВЕРСИИ
Семейство протоколов AF_X25  впервые реализовано в Linux 2.2.
.SH ДЕФЕКТЫ
Имеются в наличии, так как реализация PLP X.25 помечена как
\fBCONFIG_EXPERIMENTAL\fP.
.PP
Данная справочная страница не полна.
.PP
Пока не существует заголовочных файлов, предназначенных для использования в
приложениях; вам необходимо включать заголовочный файл ядра
\fI<linux/x25.h>\fP. \fBCONFIG_EXPERIMENTAL\fP также может неявно
означать, что будущие версии данного интерфейса не будут двоично совместимы.
.PP
События X.25 N\-Reset пока не передаются пользовательскому процессу. Поэтому,
если случится сброс соединения, данные могут быть потеряны без уведомления.
.SH "СМОТРИТЕ ТАКЖЕ"
\fBsocket\fP(2), \fBsocket\fP(7)
.PP
Jonathan Simon Naylor: «The Re\-Analysis and Re\-Implementation of X.25». URL:
.UR ftp://ftp.pspt.fi\:/pub\:/ham\:/linux\:/ax25\:/x25doc.tgz
.UE .
